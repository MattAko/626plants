<header></header>
<div [ngClass]="{ overlay: enlargedImageUrl, hidden: !enlargedImageUrl }">
  <div class="enlarged" [ngStyle]="{'background-image': 'url(' + enlargedImageUrl + ')'}">
    <img style="visibility: hidden;" [src]="enlargedImageUrl"/>
    <app-close-button
      (click)="enlargedImageUrl=null"
      class="
        absolute
        float-right
        right-7
        top-7
        z-40
        bg-white
        rounded-full
        p-2.5
        cursor-pointer
      "
    ></app-close-button>
  </div>
</div>
<div *ngIf="product; then thenBlock; else elseBlock"></div>
<ng-template #thenBlock>
  <div class="wrapper">
    <div *ngIf="!hasScrolled" id="mobileTitle">
      <h1>{{ product.name }}</h1>
      <h3>{{ product.price | currency }}</h3>
    </div>
    <img (click)="enlargedImageUrl=selectedImageUrl" class="preview" [src]="selectedImageUrl" />
    <div class="gallery">
      <img
        *ngFor="let image of product.images"
        [ngClass]="{ selected: image === selectedImageUrl }"
        [src]="image"
        (click)="onImageClick(image)"
      />
    </div>
    <div class="infoColumn">
      <div class="nameBlock">
        <h1>{{ product.name }}</h1>
        <h3>{{ product.price | currency }}</h3>
      </div>
      <button
        [disabled]="product.sold"
        [ngClass]="{
          disabled: product.sold,
          'bg-pink': !product.sold
        }"
        class="bg-pink rounded-full w-full mt-8 py-3"
        (click)="addToCart()"
      >
        Add to Cart
      </button>
    </div>
  </div>
</ng-template>
<ng-template #elseBlock>
  <h2 class="text-center">The product you searched for could not be found.</h2>
</ng-template>

<!-- <div
  *ngIf="product"
  class="
    grid grid-cols-1
    lg:grid-cols-2
    md:mt-24
    max-w-6xl
    m-auto
    justify-items-center
  "
>
  <div *ngIf="mobile" class="flex w-full justify-between mx-5 my-5">
    <h1 class="font-bold text-2xl">
      {{ product.name }}
    </h1>
    <h2 class="inline">{{ product.price | currency }}</h2>
  </div>

  <app-product-image [images]="product.images"></app-product-image>
  <div class="w-full px-6 mt-10">
    <h1 class="font-bold text-2xl capitalize">
      {{ product.name }}
    </h1>
    <div>
      <h2 *ngIf="!product.sold">{{ product.price | currency }}</h2>
      <h2 *ngIf="product.sold" class="italic">Sold</h2>
    </div>
    <br />
    <p>{{ product.description }}</p>
    <button
      [disabled]="product.sold"
      [ngClass]="{
        'cursor-not-allowed bg-gray-200 border border-gray-400 text-gray-400':
          product.sold,
        'bg-pink': !product.sold
      }"
      class="bg-pink rounded-full w-full mt-8 py-3"
      (click)="addToCart()"
    >
      Add to Cart
    </button>
    <p *ngIf="!available" class="text-center text-red-500">
      This product is already in your cart!
    </p>
    <p
      *ngIf="added"
      class="
        text-center text-green
        bg-lightgreen
        border-green
        px-10
        py-2
        mx-0
        border
        mt-5
      "
    >
      Item added to your cart.
    </p>
  </div>
</div>
 -->
